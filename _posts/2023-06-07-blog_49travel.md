---
layout: single
title:  "49travel - Travel across Germany with your 49 Euro ticket"
date:   2023-06-07
---

This will be a very different blog post than the last few posts.
Over the last couple of weeks, I was working on an idea for a webapp.     
In May, Germany launched the Deutschland Ticket. 
This is an amazing new offer where we can buy a ticket for 49 Euros a month,
and access any public transport across Germany. Its all included!
To start with, it only shows all places you can get to from Hamburg, 
but other cities are coming soon. Stay tuned. 


## Kernel

The starting idea came during a trip to Bremen. 
Bremen is just over an hour away from Hamburg 
and we decided to visit because of the freedom of the 49 Euro ticket. 
You can now visit so many places without worrying about the cost of the travel.
Bremen was great but then we started thinking, how do we find out ALL places 
we could visit that we may not know about. 
And that was the starting point. 
So, I started with the notion that this should be fairly simple to do.
Deutsch Bahn should have some API and we simply need to extract data from that, right? 

## API shenanigans 

So I registered for [DB API's](https://data.deutschebahn.com/dataset.groups.apis.html). 
And I tried to follow the documentation. And zilch.
There is more or less just one API and all it tells me are the timetables at particular stations.
It does not help since what I wanted to get were journeys between stations. 
So I dived deep into the world of available API's and found an amazing resource. 
There's a [Transport API](https://transport.rest/), 
that actually has the API that, in its own words "it returns whatever data the DB Navigator app shows". That is amazing! 
So we have an API. 

## What's the content? 

So we have an API, but what do we get out of it. 
Of course, first we use query parameters to exclude IC/ICE/EC trains,
since they are not included in the 49 euro ticket.  
Weirdly the API considers Flix trains as regional trains so I had to filter them out.
The very first requirement I had put when starting to work on this
was that I want to know all places I could get to from Hamburg.
So, my initial idea was to just get all "Trips" from Hamburg.
This would mean that I find all destinations of regional trains. 
And then the destinations after that. 
Immediately there were 2 problems. 
The `Trips` endpoint does not prodvide times, so I would have to call yet another API
to find journey times. 
Second, and more important, I would miss places that are not destinations. 
This immediately 

